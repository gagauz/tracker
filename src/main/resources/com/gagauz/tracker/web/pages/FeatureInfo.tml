<html t:type="layout" title="task header info"
      t:sidebarTitle="Framework Version"
      xmlns:t="http://tapestry.apache.org/schema/tapestry_5_3.xsd"
      xmlns:p="tapestry:parameter">

	<t:pagelink t:page="projectinfo" t:context="feature.project">${feature.project.name}</t:pagelink>

	<fieldset>
    	<legend>${feature.name}</legend>
    	<div>
		    <p>${feature.description}</p>
		    <p>Creator: ${feature.creator.name}</p>
		    <p>Created: ${date:feature.created}</p>
		    <p>Versions changes</p>
		</div>
    </fieldset>
    <div class="feature-info">
    <t:loop source="featureVersions" value="featureVersion">
    	<fieldset> 
    		<legend>
    			<t:if test="featureVersion.version">
    				<t:pagelink t:page="versioninfo" t:context="featureVersion.version">${message:version}: ${featureVersion.version.name}</t:pagelink>
    					${message:release-date}: ${date:featureVersion.version.releaseDate,d.MM.yyyy}
    				<p:else>
    					${message:future-versions}
    				</p:else>
    			</t:if>
    		</legend>
    		
	    	<div class="desc-div">${featureVersion.description}</div>
	    	
		    <t:loop source="getMap().get(featureVersion.getVersion())" value="task">
		    	<div class="task-div">
		    		<t:pagelink t:page="TaskInfo" t:context="task" class="${task.type}">${task.type} #${task.id} ${task.summary}</t:pagelink>
		    		<div>
		    			${task.description}
		    		</div>
		    	</div>
		    </t:loop>
	    </fieldset>
	    
    </t:loop>
	</div>    

</html>
